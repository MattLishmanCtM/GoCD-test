format_version: 10
pipelines:
  testpipeline:
    group: mygroup
    materials:
      mygit:
        git: https://github.com/MattLishmanCtM/gocd-test
        destination: app
    stages:
      - test:
          jobs:
            list-files:
              tasks:
                - exec:
                    command: ls
            print-directory:
              tasks:
                - exec:
                    command: pwd
            docker-stuff:
              tasks:
                - exec:
                    command: docker run -v `pwd`/app:/app node
                    arguments:
                      - node -v
                - exec:
                    command: docker run -v `pwd`/app:/app node
                    arguments:
                      - npm install
